---
title: "Tema 101.3 Niveles de ejecución"
date: 2025-11-30T11:30:03+00:00
description: "Cambiar los niveles de ejecución y objetivos de arranque y apagar o reiniciar el
sistema"
# weight: 1
# aliases: ["/first"]
tags: ["lpic-1", "linux"]
author: "Ruben Riau Vicente"
# author: ["Me", "You"] # multiple authors
showToc: true
TocOpen: false
draft: false
hidemeta: false
comments: false

canonicalURL: "https://blog.thebytepathchronicles.es/posts/lpic1_101.3_cambiar_los_niveles_de_ejecucion/"

disableShare: false
disableHLJS: false
hideSummary: false
searchHidden: false
ShowReadingTime: true
ShowBreadCrumbs: true
ShowPostNavLinks: true
ShowWordCount: true
ShowRssButtonInSectionTermList: false
UseHugoToc: true
#cover:
#    image: "<image path/url>" # image path/url
#    alt: "<alt text>" # alt text
#    caption: "<text>" # display caption under cover
#    relative: false # when using page bundles set this to true
#    hidden: true # only hide on current single page
#editPost:
#    URL: "https://github.com/<path_to_repo>/content"
#    Text: "Suggest Changes" # edit text
#    appendFilePath: true # to append file path to Edit link
---
![Mapa mental 101.3](/img/LPIC-1/tema_101.3_Niveles_de_ejecución.webp)
## Estándar SysVinit
- **Runlevel 0** Apagado del sistema.
- **Runlevel 1, s o usuario único** Modo de usuario único, sin red o capacidades no esenciales(mantenimiento).
- **Runlevel 2, 3 0 4** Modo multiusuario. Usuarios pueden iniciar sesión por consola o red.
- **Runlevel 5** Modo multiusuario. Equivalente al 3, más inicio de sesión gráfico.
- **Runlevel 6** Reinicio del sistema.

El programa */sbin/init* es el responsable de administrar los niveles de ejecución y los demonios asociados.

Al iniciar el sistema, *init* identifica el nivel de ejecución solicitado, definido en un parámetro del kernel o en */etc/inittab* y carga los scripts asociados al nivel de ejecución.

```
id:runlevels:action:process
```
Donde:
- id: nombre generico de hasta 4 caracteres.
- runlevels: lista de números de niveles para los que se ejecutará una acción específica.
- action: cómo *init* ejecutará el proceso indicado en *process*
- process: proceso a ejecutar

Acciones disponibles:

- boot: el campo *runlevels* se ignora.
- bootwait: init esperará hasta que termine para continuar. Se ignora *runlevels*.
- sysinit: el proceso se ejecutará tras la inicialización del sistema. *runlevels* se ignora.
- wait: init esperará a que termine para continuar.
- respaw: el proceso se reiniciará si finaliza.
- ctrlaltdel: el proceso se ejecutará cuando init reciba la señal **SIGINT**

```
id:3:initdefault:    # Nivel de ejecución predeterminado
```
Tras modificar */etc/inittab* debe ejecutarse *telinit q*

```
runlevel      # Muestra el nivel de ejecución actual
N 3           # La N indica que el nivel de ejecuación no ha cambiado desde el último arranque
telinit 1     # Para alternar entre niveles de ejecución
telinit s
telinit S
```

## systemd

**systemd** denomina a los servicios *units*.

Cada unidad consta de nombre,tipo y su archivo de configuración.

**Tipos de unidades:**
- **service**: para recursos activos del sistema. se pueden iniciar, interrumpir y recargar.
- **socket**: tienen una unidad *service* correspondiente que se carga cuando el socket recibe una solicitud.
- **device**: asociada a un dispositivo hardware identificado por el kernel.
- **mount**: la definición de un punto de montaje.
- **automount**: se inicia cuando se accede a punto de montaje automático.
- **target**: agrupación de unidades administradas como una sola.
- **snapshot**: estado guardado del administrador del sistema.

**Comando systemctl:** puede controlar *system targets*.
La unidad multi-user.target combina todas las unidades requeridas por el nivel multiusuario (runlevel 3 en SysV).
```
systemctl isolate multi-user.target          # Para alternar entre diferentes runlevels
systemctl set-default multi-user.target      # para cambiar el target por defecto
systemctl get-default
graphica.target
```
Los archivos de configuración  asociados a cada unidad se encuentran en */lib/systemd/system/*

```
systemctl list-unit-files                  # Lista las unidades disponibles
systemctl list-unit --type=service         # Lista por tipo servicio
systemctl list-unit --type=target          # Lista por tipo target
```
## Upstart

*/etc/init/* es el directorio donde se encuentran los archivos de inicialización de **Upstart**
Comandos:
```
initctl list                               # Muestra los servicios
start tty6                                 # Iniciar servicios
status tty6                                # Comprobar el estado de un recurso o servicio
stop tty6                                  # Detener un servicio o recurso
```

## Apagado y reinicio

**shutdown** 

- Notifica automáticamente a todos los usuarios conectados con un mensaje de advertencia y evita nuevos inicios de sesión.
- Por defecto cambia al runlevel 1
- -h o -r (reiniciar) para cambiar el comportamiento por defecto. (-h now), (-h +m), (-h hh:mm)
- en /etc/inittab puede determinarse que usuarios pueden usar *Ctrl + Alt + Supr* con -a (Sysvinit)
- *sudo systemctl poweroff* y *sudo systemctl reboot* en systemd
- **wall** 'mensaje': usado para notificar a los usuarios de un apagado o reinicio.









 

